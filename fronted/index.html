<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>K√ºt√ºphane Y√∂netim Sistemi</title>
    <link rel="stylesheet" href="styles.css?v=4">
</head>
<body>
    <!-- Gƒ∞Rƒ∞≈û SAYFASI -->
    <div id="loginPage">
        <div class="login-container">
            <h2>üìö K√ºt√ºphane Sistemi</h2>
            
            <div id="loginMessage" class="message hidden"></div>
            
            <!-- TAB BUTONLARI -->
            <div class="auth-tabs">
                <button class="tab-btn active" onclick="showTab('login')">Giri≈ü Yap</button>
                <button class="tab-btn" onclick="showTab('register')">Kayƒ±t Ol</button>
            </div>
            
            <!-- Gƒ∞Rƒ∞≈û FORMU -->
            <form id="loginForm" class="auth-form">
                <div class="form-group">
                    <label>Email</label>
                    <input type="email" id="loginEmail" placeholder="ornek@email.com" required>
                </div>
                <div class="form-group">
                    <label>≈ûifre</label>
                    <input type="password" id="loginPassword" placeholder="≈ûifreniz" required>
                </div>
                <button type="submit" class="btn btn-primary btn-block">Giri≈ü Yap</button>
            </form>
            
            <!-- KAYIT FORMU -->
            <form id="registerForm" class="auth-form hidden">
                <div class="form-group">
                    <label>Ad Soyad</label>
                    <input type="text" id="registerName" placeholder="Ad Soyad" required>
                </div>
                <div class="form-group">
                    <label>Email</label>
                    <input type="email" id="registerEmail" placeholder="ornek@email.com" required>
                </div>
                <div class="form-group">
                    <label>≈ûifre</label>
                    <input type="password" id="registerPassword" placeholder="≈ûifreniz (en az 6 karakter)" required minlength="6">
                </div>
                <div class="form-group">
                    <label>≈ûifre Tekrar</label>
                    <input type="password" id="registerPasswordConfirm" placeholder="≈ûifrenizi tekrar girin" required>
                </div>
                <button type="submit" class="btn btn-secondary btn-block">Kayƒ±t Ol</button>
            </form>
            
            <div class="info-box mt-2">
                <h4>Test Giri≈ü Bilgileri</h4>
                <p>
                    <strong>Admin:</strong> admin@kutuphane.com / 123456<br>
                    <strong>√úye:</strong> test@test.com / 123456
                </p>
            </div>
        </div>
    </div>
    
    <!-- ANA SAYFA -->
    <div id="mainPage" class="hidden">
        <nav class="navbar">
            <h1>üìö K√ºt√ºphane Y√∂netim Sistemi</h1>
            <div class="user-info">
                <span id="userInfo"></span>
                <span id="userRole" class="badge"></span>
                <button onclick="logout()">√áƒ±kƒ±≈ü Yap</button>
            </div>
        </nav>
        
        <div class="container">
            <div id="mainMessage" class="message hidden"></div>
            
            <!-- ==================== ADMIN PANELƒ∞ ==================== -->
            <div id="adminPanel" class="hidden">
                <div class="info-box">
                    <h4>üëë Admin Paneli</h4>
                    <p>Kitap, Yazar ve Kategori y√∂netimi yapabilirsiniz. Admin kitap √∂d√ºn√ß alamaz.</p>
                </div>
                
                <!-- Admin ƒ∞statistikler -->
                <div class="cards">
                    <div class="card">
                        <h3 id="adminStatBooks">0</h3>
                        <p>Toplam Kitap</p>
                    </div>
                    <div class="card">
                        <h3 id="adminStatAuthors">0</h3>
                        <p>Toplam Yazar</p>
                    </div>
                    <div class="card">
                        <h3 id="adminStatCategories">0</h3>
                        <p>Toplam Kategori</p>
                    </div>
                    <div class="card">
                        <h3 id="adminStatUsers">0</h3>
                        <p>Toplam Kullanƒ±cƒ±</p>
                    </div>
                </div>
                
                <!-- YAZAR Y√ñNETƒ∞Mƒ∞ -->
                <h2 class="section-title">‚úçÔ∏è Yazar Y√∂netimi</h2>
                <div class="form-inline">
                    <input type="text" id="authorName" placeholder="Ad">
                    <input type="text" id="authorLastName" placeholder="Soyad">
                    <input type="text" id="authorCountry" placeholder="√úlke">
                    <button class="btn btn-secondary" onclick="addAuthor()">Yazar Ekle</button>
                </div>
                <table id="authorsTable">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Ad</th>
                            <th>Soyad</th>
                            <th>√úlke</th>
                            <th>ƒ∞≈ülemler</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
                
                <!-- KATEGORƒ∞ Y√ñNETƒ∞Mƒ∞ -->
                <h2 class="section-title">üìÇ Kategori Y√∂netimi</h2>
                <div class="form-inline">
                    <input type="text" id="categoryName" placeholder="Kategori Adƒ±">
                    <button class="btn btn-secondary" onclick="addCategory()">Kategori Ekle</button>
                </div>
                <table id="categoriesTable">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Kategori Adƒ±</th>
                            <th>ƒ∞≈ülemler</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
                
                <!-- Kƒ∞TAP Y√ñNETƒ∞Mƒ∞ -->
                <h2 class="section-title">üìñ Kitap Y√∂netimi</h2>
                <div class="form-inline">
                    <input type="text" id="bookTitle" placeholder="Kitap Adƒ±">
                    <select id="bookAuthorId"></select>
                    <select id="bookCategoryId"></select>
                    <input type="number" id="bookStock" placeholder="Stok" value="1" min="1">
                    <input type="number" id="bookYear" placeholder="Yƒ±l">
                    <button class="btn btn-secondary" onclick="addBook()">Kitap Ekle</button>
                </div>
                <table id="adminBooksTable">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Kitap</th>
                            <th>Yazar</th>
                            <th>Kategori</th>
                            <th>Stok</th>
                            <th>Yƒ±l</th>
                            <th>ƒ∞≈ülemler</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
                
                <!-- T√úM ƒ∞≈ûLEMLER -->
                <h2 class="section-title">üìã T√ºm √ñd√ºn√ß ƒ∞≈ülemleri</h2>
                <table id="allTransactionsTable">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Kullanƒ±cƒ±</th>
                            <th>Kitap</th>
                            <th>√ñd√ºn√ß Tarihi</th>
                            <th>Son ƒ∞ade</th>
                            <th>Ger√ßek ƒ∞ade</th>
                            <th>Durum</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
                
                <!-- T√úM CEZALAR -->
                <h2 class="section-title">üí∞ T√ºm Cezalar</h2>
                <table id="allPenaltiesTable">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Kullanƒ±cƒ±</th>
                            <th>Gecikme</th>
                            <th>Tutar</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>
            
            <!-- ==================== KULLANICI PANELƒ∞ ==================== -->
            <div id="userPanel" class="hidden">
                <div class="info-box">
                    <h4>üìö √úye Paneli</h4>
                    <p>Kitap √∂d√ºn√ß alabilir ve iade edebilirsiniz. ƒ∞ade s√ºresi: 1 dakika, Gecikme: 5 TL/dakika</p>
                </div>
                
                <!-- Kullanƒ±cƒ± ƒ∞statistikler -->
                <div class="cards">
                    <div class="card">
                        <h3 id="statBooks">0</h3>
                        <p>Toplam Kitap</p>
                    </div>
                    <div class="card">
                        <h3 id="statBorrows">0</h3>
                        <p>Aktif √ñd√ºn√ß</p>
                    </div>
                    <div class="card">
                        <h3 id="statPenalties">0 TL</h3>
                        <p>Toplam Ceza</p>
                    </div>
                </div>
                
                <!-- Kitaplar -->
                <h2 class="section-title">üìñ Kitaplar</h2>
                <table id="booksTable">
                    <thead>
                        <tr>
                            <th>Kitap</th>
                            <th>Yazar</th>
                            <th>Kategori</th>
                            <th>Stok</th>
                            <th>ƒ∞≈ülem</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
                
                <!-- ƒ∞≈ülemlerim -->
                <h2 class="section-title">üìã ƒ∞≈ülemlerim</h2>
                <table id="myTransactionsTable">
                    <thead>
                        <tr>
                            <th>Kitap</th>
                            <th>√ñd√ºn√ß Tarihi</th>
                            <th>Son ƒ∞ade</th>
                            <th>Ger√ßek ƒ∞ade</th>
                            <th>Durum</th>
                            <th>ƒ∞≈ülem</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
                
                <!-- Cezalarƒ±m -->
                <h2 class="section-title">üí∞ Cezalarƒ±m</h2>
                <table id="myPenaltiesTable">
                    <thead>
                        <tr>
                            <th>Gecikme</th>
                            <th>Tutar</th>
                            <th>ƒ∞≈ülem</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>
        </div>
    </div>
    
    <!-- MODAL -->
    <div id="editModal" class="modal hidden">
        <div class="modal-content">
            <span class="modal-close" onclick="closeModal()">&times;</span>
            <h3 id="modalTitle">D√ºzenle</h3>
            <div id="modalBody"></div>
            <div class="modal-buttons">
                <button class="btn btn-primary" onclick="saveEdit()">Kaydet</button>
                <button class="btn" onclick="closeModal()">ƒ∞ptal</button>
            </div>
        </div>
    </div>
    
    <script src="app.js?v=4"></script>
</body>
</html>